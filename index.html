<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elevator Pitch</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

  <div class="seccion-form">
  <h1>Perfil Comercial</h1>
    <form id="perfilForm" onsubmit="return guardarDatos()">
        <label for="nombreMarca">Nombre de la Marca/Emprendimiento*</label><br>
        <input type="text" id="nombreMarca" maxlength="200" required><br><br>

<div class="container">
    <div id="image-buttons">
    <form id="elevator-form">
        <label for="emprendedora">Nombre de la marca/emprendimiento/negocio/proyecto.*</label>
        <input type="text" id="emprendedora" required maxlength="200">
    
        <label for="historia">Describe brevemente la historia de tu emprendimiento/negocio/proyecto*</label>
        <input type="text" id="historia" required maxlength="200">
    
        <label for="nombre-marca">Nombre de la marca/emprendimiento/negocio/proyecto.*</label>
        <input type="text" id="nombre-marca" required maxlength="200">
    
        <label for="que-vende">¿Qué vendes?*</label>
        <input type="text" id="que-vende" required maxlength="200">
    
        <label for="como-hace">¿Cómo haces lo que vendes?*</label>
        <input type="text" id="como-hace" required maxlength="200">
    
        <label for="por-quienes">¿Por quíenes lo haces?*</label>
        <input type="text" id="por-quienes" required maxlength="200">
    
        <label for="producto-estrella">¿Cuál es el producto estrella/Principal/más vendido?*</label>
        <input type="text" id="producto-estrella" required maxlength="200">
    
        <label for="descripcion-estrella">Descripción del producto estrella/principal/más vendido.*</label>
        <input type="text" id="descripcion-estrella" required maxlength="200">
     <!-- </form> -->

 <h1>Describir la personalidad de tu marca. (Tono y voz)*</h1>
    
        <div class="button-row">
            <div class="image-button" data-value="1">
                <img src="./img/heroic.png" alt="Heroica">
                <p>Heroína</p>
            </div>
            <div class="image-button" data-value="2">
                <img src="./img/common.png" alt="Común">
                <p>Común</p>
            </div>
            <div class="image-button" data-value="3">
                <img src="./img/innocent.png" alt="Inocente">
                <p>Inocente</p>
            </div>
        </div>
        
        <div class="button-row">
            <div class="image-button" data-value="4">
                <img src="./img/jester.png" alt="Bufona">
                <p>Bufona</p>
            </div>
            <div class="image-button" data-value="5">
                <img src="./img/creative.png" alt="Creativa">
                <p>Creativa</p>
            </div>
            <div class="image-button" data-value="6">
                <img src="./img/wise.png" alt="Sabia">
                <p>Sabia</p>
            </div>
    </div>
   
    <!-- <form id="redes-sociales-form"> -->
        
        <label for="instagram">Enlace a Instagram.*</label>
        <input type="url" id="instagram">
        <label for="tiktok">Enlace a Tiktok.</label>
        <input type="url" id="tiktok">
        <label for="facebook">Enlace a Facebook.</label>
        <input type="url" id="facebook">
        <label for="link">Enlace a tú pagina web.</label>
        <input type="text" id="website" name="website" placeholder="https://www.tupaginaweb.com">
        
        <div class="button-container">
            <button class="button-save" type="submit">Guardar</button>
            <button class="button-continue">Continuar</button>
        </div>
    </form>

  </div>  
  <div class="seccion-form-respuesta">
    <div class="card">


        <h1>Texto Sugerido</h1>
        <div class="card1">

            <img src="../intechmom-eq4-frontend/Groupversion1.png" alt="" />
          <!--  Es un atributo contenteditable  que el texto sea editable por el usuario. Si quieres que el texto sea editable, puedes cambiar el valor a true.-->
            <p id="mensaje" contenteditable="true">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. In, quo? Aperiam quidem ab molestiae omnis, sapiente reprehenderit soluta, sed ducimus commodi iusto explicabo fuga nostrum? Et aliquid atque beatae totam.
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Pariatur consequuntur provident praesentium quidem illum repellendus accusantium, nostrum delectus architecto sit, dolorem repudiandae deserunt aspernatur odit ipsa vel sapiente mollitia. Consectetur!}
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Architecto, veritatis nesciunt modi veniam repudiandae eaque unde expedita perspiciatis, 
          quaerat quos accusamus voluptatum reiciendis sint porro commodi sit vitae eveniet sapiente?
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci voluptatem commodi veritatis dolorem perspiciatis, culpa id harum numquam tempora, suscipit accusantium? 
          Eaque omnis nostrum asperiores consectetur modi quam obcaecati accusantium.
          Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel, dolore rem! Vitae optio repellat, totam, nesciunt ea ex nostrum, itaque perspiciatis minus cumque distinctio! Rerum blanditiis 
          laudantium animi ab aspernatur.
            </p>
        </div>
        <div class="button">
        <!--  Identificadores de botones editButton sendButton  referenciarlos en el JavaScript.-->
            <button id="editButton">Volver a Generar </button>
            <button id="sendButton">Guardar</button>
        </div>
    </div>
  </div>

  <!--  Enlaces JavaScript-->  
  <script src="script.js">
        function guardarDatos() {
    var perfil = {
        "Nombre de la Marca/Emprendimiento": document.getElementById("nombreMarca").value,
        "Origen": document.getElementById("origen").value,
        "Inspiración": document.getElementById("inspiracion").value,
        "Misión y Valores": document.getElementById("mision").value,
        "Personalidad de la Marca": document.getElementById("personalidad").value,
        "Descripción del Negocio": document.getElementById("descripcionNegocio").value,
        "¿Qué hace único al negocio?": document.getElementById("unico").value,
        "Clientes Objetivos": document.getElementById("clientes").value
    };

    var perfilJSON = JSON.stringify(perfil);
    console.log(perfilJSON);

    // Aquí puedes enviar el perfilJSON a un servidor o almacenarlo localmente

    return false; // Evita que el formulario se envíe
          
          document.getElementById('editButton').addEventListener('click', function() {
            // Hacer que el párrafo sea editable
            document.getElementById('mensaje').setAttribute('contenteditable', 'true');
        });
        
        document.getElementById('sendButton').addEventListener('click', function() {
            // Obtener el contenido del párrafo
            const mensaje = document.getElementById('mensaje').innerText.trim();
        
            // Realizar la consulta a ChatGPT
            const apiKey = '';  // configurar la clave de API de forma segura
            const endpoint = 'https://api.openai.com/v1/chat/completions';
        
            const data = {
               // Modelo de procesamiento de lenguaje natural.
                model: "gpt-4",
                messages: [
                    { role: "system", content: "" },
                    // Mensaje del usuario, se espera que contenga el contenido de un mensaje previamente definido.
                    { role: "user", content: mensaje }
                ]
            };
        
            fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                // Convierte el objeto 'data' en una cadena JSON para su posterior envío o almacenamiento.
                body: JSON.stringify(data)
            })
            .then(response => {
                // Verifica si la respuesta de la solicitud no es exitosa.
                if (!response.ok) {
                     // Si la respuesta no es exitosa, lanza un error con el estado HTTP.
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                 // Si la respuesta es exitosa, la convierte a formato JSON y la devuelve.
                return response.json();
            })
            .then(data => {
                const respuestaChatGPT = data.choices[0].message.content;
                // Actualizar  la respuesta de ChatGPT
                document.getElementById('mensaje').innerText = respuestaChatGPT;
            })
            .catch(error => {
                console.error('error tu consulta', error);
                document.getElementById('mensaje').innerText = "Espera tu respuesta...";
            });
        
            // Deshabilitar la edición del párrafo
            document.getElementById('mensaje').setAttribute('contenteditable', 'false');
        });
}
    </script>

</body>
</html>
